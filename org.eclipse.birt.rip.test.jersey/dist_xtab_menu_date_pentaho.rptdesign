<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.22" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 3.7.1.v20110905 Build &lt;3.7.1.v20110905-1820></property>
    <list-property name="includeScripts">
        <property>resources/common.js</property>
    </list-property>
    <property name="units">in</property>
    <method name="initialize"><![CDATA[reportContext.setGlobalVariable("reportTitle", 
	params["show_details"].value 
		? "Design-Your-Own Distribution" 
		: "Order Summary by Item " + (params["use_item_name"].value ? "Name": "Code"));
var dbname = params["dbname"].value;
var reportSubtitle = dbname == "schoolhouse" ? "Schoolhouse Fare - 843-297-8030 - info@schoolhousefare.com" : null;
reportContext.setGlobalVariable("reportSubtitle", reportSubtitle);
// reportContext.setGlobalVariable("reportFooterNote", "C: = Combo, E: = EntrÃ©e, S: = Side/ala carte, D: = Drink, O: = Other");

var iterate = function (collection, fn) {
	if(collection != null) {
		if(collection.iterator) {
			var iterator = collection.iterator();
			while(iterator.hasNext()) {
				fn(iterator.next(), iterator.hasNext());
			}
		}
		else if(typeof collection == "object") {
			if(collection.constructor == Array) {
				for(var i = 0; i < collection.length; i++) {
					fn(collection[i], i < collection.length - 1);
				}
			}
		} 
	}
};

var logDir = params["log_dir"].value;

var DebugOut = function() {
	this.dirName = logDir;
	this.dir = null;
	this.file = null;
	this.enabled = false;
};

if(logDir == null || logDir == "") {
	DebugOut.prototype.println = function(message) {
	};
}
else {
	DebugOut.prototype.println = function(message) {
		if(this.dir == null) {
			this.dir = new Packages.java.io.File(this.dirName);
			this.enabled = this.dir.exists();
			if(this.enabled) {
				this.file = new Packages.java.io.File(this.dir, "report_debug.log")
			}
		}
		if(this.enabled) {
			var file = this.file;
			var pw = new Packages.java.io.PrintWriter(new Packages.java.io.FileOutputStream(file, true));
			var time = Packages.java.lang.System.currentTimeMillis();
			var df = new Packages.java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
			var formattedDate = df.format(time);
			pw.println(formattedDate + " " + message);
			pw.close();
		}
	};
}

out = new DebugOut();

out.println("initialize");
var getColInfos = function(engine, reportRunnable) {
	var task = engine.createGetParameterDefinitionTask(reportRunnable);
	task.setParameterValue("dbname", reportContext.getParameterValue("dbname"));
	task.setParameterValue("login_id", reportContext.getParameterValue("login_id"));
	task.setParameterValue("school_id", reportContext.getParameterValue("school_id"));
	task.setParameterValue("room_id", reportContext.getParameterValue("room_id"));
	task.setParameterValue("teacher", reportContext.getParameterValue("teacher"));
	task.setParameterValue("lunch_session", reportContext.getParameterValue("lunch_session"));
	task.setParameterValue("grade", reportContext.getParameterValue("grade"));
	task.setParameterValue("vendor", reportContext.getParameterValue("vendor"));
	task.setParameterValue("menu_cycle", reportContext.getParameterValue("menu_cycle"));
	task.setParameterValue("start_date", reportContext.getParameterValue("start_date"));
	task.setParameterValue("end_date", reportContext.getParameterValue("end_date"));
	out.println("gathering columns...");
	var colInfos = [];
	var paramChoices = task.getSelectionList("dyn_columns");
	if (paramChoices) {
		iterate(paramChoices, function(q) {
			var date = q.value;
			var menu_date_key = Formatter.format(date, "yyyy-MM-dd");
			out.println("  date " + menu_date_key);
			colInfos.push({menu_date: date, menu_date_key: menu_date_key});
		});
	}
	task.close();
	out.println(colInfos.length + " columns");
	return colInfos;
};
var colInfos = null;
var reportInfo = {};
var adjustTable = function(tableName, fieldNames) {
	out.println("--------------------------------------------------------------------------------------");
	out.println("adjustTable, tableName = " + tableName);
	var reportRunnable = reportContext.getReportRunnable();
	out.println("reportRunnable = " + reportRunnable);
	var engine = reportRunnable.getReportEngine();
	out.println("reportEngine = " + engine);
	var designHandle = reportRunnable.getDesignHandle();
	out.println("designHandle = " + designHandle);
	var tableHandle = designHandle.findElement(tableName);
	out.println("tableHandle = " + tableHandle);
	var layoutModel = tableHandle.getLayoutModel();
	out.println("layoutModel = " + layoutModel);
	
	var fieldQualifies = function(fieldName) {
		for(var i = 0; i < fieldNames.length; i++) {
			if(fieldName == fieldNames[i])
				return true;
		}
		return false;
	};
	
	var forAllFieldNames = function(callback) {
		for(var i = 0; i < fieldNames.length; i++) {
			callback(fieldNames[i]);
		}
	}
	
	if(colInfos == null) {
		colInfos = getColInfos(engine, reportRunnable);
		var pageHandle = designHandle.getMasterPages().get(0);
		out.println("page width = " + pageHandle.getProperty("width"));
		var colWidth = colInfos.length == 0 ? 0 : (10.5 - 2) / colInfos.length;
		if(colWidth < 1)
			colWidth = 1;
		reportInfo.colWidth = colWidth;
		reportInfo.pageWidth = 2 + colWidth * colInfos.length;
	}

	out.println("generating columns in table...");
	// insert the correct number of columns
	var startCol = 2;
	
	for(var i = 1; i < colInfos.length; i++) {
		var colIndex = startCol + i - 1;
		tableHandle.insertAndPasteColumn(tableHandle.copyColumn(colIndex), colIndex);
	}
	
	for(var i = 0; i < colInfos.length; i++) {
		var colIndex = startCol + i - 1;
		var columnHandle = tableHandle.findColumn(colIndex + 1);
		columnHandle.setProperty("width", reportInfo.colWidth + "in");
	}
	
	var SlotInfo = function(data) {
		this.group = data.group;
		this.slot = data.slot;
		this.handle = data.handle;
	};
	
	SlotInfo.prototype.getCell = function(rowIndex, colIndex) {
		var cellHandle = this.group == 0
			? layoutModel.getCell(this.slot, rowIndex + 1, startCol + colIndex)
			: layoutModel.getCell(this.group, this.slot, rowIndex + 1, startCol + colIndex);
		out.println("    getCell " + rowIndex + ", " + colIndex + " = " + cellHandle);
		// org.eclipse.birt.report.model.api.CellHandle
		return cellHandle;
	};
	
	var stringSubs = function(menuDate, originalValue, colIndex) {
		if(menuDate == null || originalValue == null) {
			return originalValue;
		}
		var newValue = originalValue + "";
		newValue = newValue.replace(/%MENU_DATE%/, menuDate + "");
		newValue = newValue.replace(/parseInt\("%COL%"\)/g, colIndex + "");
		return newValue;
	};
	
	var replaceProperty = function(deHandle, name, colIndex, menuDate) {
		var propObj = deHandle.getProperty(name);
		if(propObj == null)
			return;
		var originalValue = propObj;
		var translatedValue = originalValue;
		forAllFieldNames(function(fieldName) {
			translatedValue = translatedValue.replace(fieldName, fieldName + "_" + colIndex);
		});
		var translatedValue = stringSubs(menuDate, translatedValue, colIndex);
		if(translatedValue != originalValue) {
			out.println("replaceProperty " + name);
			out.println("  old: " + originalValue);
			out.println("  new: " + translatedValue);
			deHandle.setProperty(name, translatedValue);
		}
	};
	
	var processGridHandle = function(/* GridHandle */ gh, colIndex, menuDate) {
		out.println("processGridHandle colIndex = " + colIndex + ", menuDate = " + menuDate);
		var /* SlotHandle */ rows = gh.getRows();
		var /* int */ rowCount = rows.getCount();
		var /* int */ colCount = gh.getColumnCount();
		for(var ri = 0; ri < rowCount; ri++ ) {
			var /* DesignElementHandle */ rowHandle = rows.get(ri);
			processDesignElementHandle(rowHandle, colIndex, menuDate);
			// deh.get
			for(var ci = 0; ci < colCount; ci++ ) {
				var /* CellHandle */ cellHandle = gh.getCell(ri + 1, ci + 1);
				if(cellHandle != null) {
					var /* List<Object> */ cellItems = cellHandle.getContent().getContents();
					iterate(cellItems, function(itemHandle) {
						if(itemHandle instanceof Packages.org.eclipse.birt.report.model.api.ReportItemHandle) {
							processDesignElementHandle(itemHandle, colIndex, menuDate);
						}
					}); /* cellItems */
				}
			} /* ci */
		} /* ri */
	};
	
	var processTableHandle = function(/* TableHandle */ innerTableHandle, /* int */ colIndex,
		/* IParameterSelectionChoice */ menuDate) {
		var /* Object */ property = innerTableHandle.getProperty("paramBindings");
		if(property instanceof Packages.java.util.List) {
			iterate(property, function(item) {
				if(item instanceof Packages.org.eclipse.birt.report.model.api.elements.structures.ParamBinding) {
					var /* ParamBinding */ paramBinding = item;
					var /* String */ originalValue = paramBinding.getExpression();
					var translatedValue = stringSubs(menuDate, originalValue, colIndex);
					if(translatedValue != originalValue) {
						out.println("processTableHandle paramBindings");
						out.println("  old: " + originalValue);
						out.println("  new: " + translatedValue);
						paramBinding.setExpression(translatedValue);
					}
				}
			});

			/*
		    <list-property name="filter">
		        <structure>
		            <property name="operator">eq</property>
		            <expression name="expr" type="javascript">row["menu_date_key"]</expression>
		            <simple-property-list name="value1">
		                <value>"%MENU_DATE%"</value>
		            </simple-property-list>
		        </structure>
		    </list-property>
			*/
		
			var filter = innerTableHandle.getProperty("filter");
			// out.println("filter = " + filter);
			if(filter instanceof Packages.java.util.List) {
				out.println("filter property is a list");
				iterate(filter, function(member) {
					out.println("filter list member = " + member);
					var originalValue = member.getValue1();
					var translatedValue = stringSubs(menuDate, originalValue, colIndex);
					if(translatedValue != originalValue) {
						out.println("processTableHandle filter");
						out.println("  old: " + originalValue);
						out.println("  new: " + translatedValue);
						member.setValue1(translatedValue);
					}
				});
			}
	
		}
	};
	
	var processDesignElementHandle = function(deHandle, colIndex, menuDate) {
		out.println("processDesignElementHandle, deHandle = " + deHandle + ", colIndex = " + colIndex);
		if(deHandle == null)
			return;
		var /* UserPropertyDefnHandle */ updf = deHandle.getUserPropertyDefnHandle("DynNoCopy");
		if(updf != null &amp;&amp; colIndex != 0) {
			deHandle.drop();
		}
		else {
			var /* Object */ property = deHandle.getProperty("visibility");
			iterate(property, function(hideRule) {
				var originalValue = hideRule.getExpression();
				var translatedValue = stringSubs(menuDate, originalValue, colIndex);
				if(translatedValue != originalValue) {
					out.println("replaceProperty " + name);
					out.println("  old: " + originalValue);
					out.println("  new: " + translatedValue);
					hideRule.setExpression(translatedValue);
				}
			});
			if(deHandle.getHelpText &amp;&amp; deHandle.setHelpText) {
				var /* String */ helpText = deHandle.getHelpText();
				if(helpText != null) {
					deHandle.setHelpText(colIndex + " ");
				}
			}
			if(deHandle.getActionHandle) {
				var /* ActionHandle */ actionHandle = deHandle.getActionHandle();
				if(actionHandle != null) {
					var /* String */ linkType = actionHandle.getLinkType();
					if("hyperlink" == linkType.toLowerCase()) {
						var /* String */ originalValue = actionHandle.getURI();
						if(originalValue != null) {
							var translatedValue = stringSubs(menuDate, originalValue, colIndex);
							if(translatedValue != originalValue) {
								out.println("actionHandle");
								out.println("  old: " + originalValue);
								out.println("  new: " + translatedValue);
								actionHandle.setURI(translatedValue);
							}
						}
					}
				}
			}
			if(deHandle instanceof Packages.org.eclipse.birt.report.model.api.GridHandle ) {
				processGridHandle(deHandle, colIndex, menuDate);
			}
			else if(deHandle instanceof Packages.org.eclipse.birt.report.model.api.TableHandle) {
				processTableHandle(deHandle, colIndex, menuDate);
			}
			else {
				var resultSetColumn = deHandle.getProperty("resultSetColumn");
				if(resultSetColumn != null) {
					if(fieldQualifies(resultSetColumn)) {
						out.println("      found " + resultSetColumn);
						var newResultSetColumn = resultSetColumn + "_" + colIndex;
						out.println("      changed to " + newResultSetColumn);
						deHandle.setProperty("resultSetColumn", newResultSetColumn);
					}
				}
				var content = deHandle.getProperty("content");
				if(content != null) {
					var originalValue = content;
					var translatedValue = originalValue;
					forAllFieldNames(function(fieldName) {
						translatedValue = translatedValue.replace(fieldName, fieldName + "_" + colIndex);
					});
					var translatedValue = stringSubs(menuDate, translatedValue, colIndex);
					if(translatedValue != originalValue) {
						out.println("actionHandle");
						out.println("  old: " + originalValue);
						out.println("  new: " + translatedValue);
						deHandle.setProperty("content", translatedValue);
					}
				}
				var text = deHandle.getProperty("text");
				if(text != null &amp;&amp; text == "menu_date") {
					// header row
					out.println("      found menu_date header");
					var formattedDate = Formatter.format(colInfo.menu_date, "EEE MM/dd");
					try {
						deHandle.setProperty("text", formattedDate);
					}
					catch(e) {
					}
				}
			}
		}
	};
	
	out.println("gathering all the slots...");
	// get all the slots
	var slotInfos = [];
	slotInfos.push(new SlotInfo({group: 0, slot: 0 /* header */, handle: tableHandle}));
	slotInfos.push(new SlotInfo({group: 0, slot: 2 /* detail */, handle: tableHandle}));
	slotInfos.push(new SlotInfo({group: 0, slot: 3 /* footer */, handle: tableHandle}));
	var groupsSlotHandle = tableHandle.getGroups();
	var groupCount = groupsSlotHandle.getCount();
	for(var i = 0; i < groupCount; i++) {
		var groupHandle = groupsSlotHandle.get(i);
		slotInfos.push(new SlotInfo({group: i + 1, slot: 0 /* header */, handle: groupHandle}));
		slotInfos.push(new SlotInfo({group: i + 1, slot: 1 /* footer */, handle: groupHandle}));
	}
	
	out.println(slotInfos.length + " slots");
	out.println("updating cells...");
	// update the cells
	for(var slotIndex = 0; slotIndex < slotInfos.length; slotIndex++) {
		var slotInfo = slotInfos[slotIndex];
		out.println("slotInfo: group = " + slotInfo.group + ", slot = " + slotInfo.slot);
		var slotHandle = slotInfo.handle.getSlot(slotInfo.slot);
		var rowCount = slotHandle.getCount();
		for(var rowIndex = 0; rowIndex < rowCount; rowIndex++) {
			out.println("  row " + rowIndex);
			// var colIndex = startCol;
			for(var colIndex = 0; colIndex < colInfos.length; colIndex++) {
				var colInfo = colInfos[colIndex];
				out.println("    updating cell for col " + colIndex + ", menu_date_key = " + colInfo.menu_date_key);
				var cellHandle = slotInfo.getCell(rowIndex, colIndex);
				if(cellHandle == null) {
					continue;
				}
				replaceProperty(cellHandle, "onPrepare", colIndex, colInfo.menu_date_key);
				replaceProperty(cellHandle, "onCreate", colIndex, colInfo.menu_date_key);
				replaceProperty(cellHandle, "onRender", colIndex, colInfo.menu_date_key);
				// each cell can have multiple ReportItems
				var /* List<Object> */ cellItems = cellHandle.getContent().getContents();
				if(cellItems instanceof Packages.java.util.List) {
					iterate(cellItems, function(itemHandle) {
						processDesignElementHandle(itemHandle, colIndex, colInfo.menu_date_key);
					});
				}
			}
		}
	}
	
	out.println("adding column bindings...");
	var columnBindings = tableHandle.getColumnBindings();
	var iterator = columnBindings.getListValue().iterator();
	while(iterator.hasNext()) {
		var columnBinding = iterator.next();
		var columnBindingName = columnBinding.getName();
		out.println("  " + columnBindingName);
		if(fieldQualifies(columnBindingName)) {
			out.println("    found " + columnBindingName);
			for(var colIndex = 0; colIndex < colInfos.length; colIndex++) {
				var colInfo = colInfos[colIndex];
				out.println("    col " + colIndex + ", menu_date_key = " + colInfo.menu_date_key);
				var newColumnBinding = columnBinding.copy();
				var filterExpression = newColumnBinding.getFilterExpression();
				out.println("    old filter: " + filterExpression);
				var newFilterExpression = filterExpression.replace("%MENU_DATE%", colInfo.menu_date_key);
				out.println("    new filter: " + newFilterExpression);
				newColumnBinding.setFilterExpression(newFilterExpression);
				newColumnBinding.setName(columnBindingName + "_" + colIndex);
				columnBindings.addItem(newColumnBinding);
			}
		}
	}
	
	var pageHandle = designHandle.getMasterPages().get(0);
	out.println("  pageHandle = " + pageHandle.getName() + ", setting width to " + reportInfo.pageWidth + " inches");
	pageHandle.setStringProperty("width", (reportInfo.pageWidth + .6) + "in");
	// width, leftMargin, rightMargin, marginLeft, marginRight, paddingLeft, paddingRight
};
var itemRowCount = null;
var prepareGrid = function(gridName) {
	out.println("--------------------------------------------------------------------------------------");
	out.println("prepareGrid " + gridName);
	var reportRunnable = reportContext.getReportRunnable();
	var engine = reportRunnable.getReportEngine();
	var designHandle = reportRunnable.getDesignHandle();
	var gridHandle = designHandle.findElement(gridName);
	var colCount = gridHandle.getColumnCount();
	var copyROP = new Packages.org.eclipse.birt.report.model.api.RowOperationParameters(0, 0, 0);

	var getItemRowCount = function() {
		out.println("getItemRowCount");
		var task = engine.createGetParameterDefinitionTask(reportRunnable);
		task.setParameterValue("dbname", reportContext.getParameterValue("dbname"));
		task.setParameterValue("login_id", reportContext.getParameterValue("login_id"));
		task.setParameterValue("school_id", reportContext.getParameterValue("school_id"));
		task.setParameterValue("room_id", reportContext.getParameterValue("room_id"));
		task.setParameterValue("teacher", reportContext.getParameterValue("teacher"));
		task.setParameterValue("lunch_session", reportContext.getParameterValue("lunch_session"));
		task.setParameterValue("grade", reportContext.getParameterValue("grade"));
		task.setParameterValue("vendor", reportContext.getParameterValue("vendor"));
		task.setParameterValue("menu_cycle", reportContext.getParameterValue("menu_cycle"));
		task.setParameterValue("start_date", reportContext.getParameterValue("start_date"));
		task.setParameterValue("end_date", reportContext.getParameterValue("end_date"));
		var paramChoices = task.getSelectionList("dyn_item_rows");
		var rowCount = null;
		if (paramChoices) {
			iterate(paramChoices, function(q) {
				rowCount = q.value;
				out.println("rowCount = " + rowCount);
			});
		}
		task.close();
		out.println(rowCount + " rows");
		return rowCount;
	};

	if(itemRowCount == null) {
		itemRowCount = getItemRowCount();
	}

	for(var rowIndex = 0; rowIndex < itemRowCount; rowIndex++) {
		out.println("grid row " + rowIndex);
		var /* IDesignElement */ row = gridHandle.copyRow(copyROP);
		var pasteROP = new Packages.org.eclipse.birt.report.model.api.RowOperationParameters(0, 0, rowIndex);
		gridHandle.insertAndPasteRow(row, pasteROP);
		var /* DesignElementHandle */ rowHandle = gridHandle.getRows().get(rowIndex + 1);
		var /* Object */ property = rowHandle.getProperty("visibility");
		iterate(property, function(hideRule) {
			var expression = hideRule.getExpression();
			out.println("found visibility rule " + expression)
			var newExpression = expression + "";
			newExpression = newExpression.replace(/rowIndex = 0/, "rowIndex = " + (rowIndex + 1));
			if(newExpression != expression) {
				out.println("changed to " + newExpression);
				hideRule.setExpression(newExpression);
			}
		});
		for(ci = 0; ci < colCount; ci++) {
			out.println("grid col " + ci);
			var /* CellHandle */ cellHandle = gridHandle.getCell(rowIndex + 2, ci + 1);
			if(cellHandle == null)
				continue;
			// <property name="borderBottomColor">#CCCCCC</property>
			// <property name="borderBottomStyle">solid</property>
			// <property name="borderBottomWidth">1px</property>
			if(rowIndex == itemRowCount - 1) {
				// eliminate bottom border in last row
				cellHandle.clearProperty("borderBottomColor");
				cellHandle.clearProperty("borderBottomStyle");
				cellHandle.clearProperty("borderBottomWidth");
				out.println("border eliminiated on bottom row");
			}
			var /* List<Object> */ cellItems = cellHandle.getContent().getContents();
			iterate(cellItems, function(itemHandle) {
				if(itemHandle instanceof Packages.org.eclipse.birt.report.model.api.ReportItemHandle) {
					var content = itemHandle.getProperty("content");
					if(content != null) {
						out.println("found content " + content);
						var newContent = content + "";
						newContent = newContent.replace(/rowIndex = 0/, "rowIndex = " + (rowIndex + 1));
						if(newContent != content) {
							out.println("changed to " + newContent);
							itemHandle.setProperty("content", newContent);
						}
					}
				}
			}); /* cellItems */
		} /* ci */
	} /* rowIndex */
};
]]></method>
    <method name="onPrepare"><![CDATA[out.println("--------------------------------------------------------------------------------------");
out.println("onPrepare");
var reportRunnable = reportContext.getReportRunnable();
var engine = reportRunnable.getReportEngine();
var designHandle = reportRunnable.getDesignHandle();
if(!params["show_details"].value) {
	designHandle.findElement("compact_summary").drop();
}
else {
	designHandle.findElement("summary").drop();
	// designHandle.findElement("grand").drop();
}]]></method>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="layoutPreference">fixed layout</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <list-property name="libraries">
        <structure>
            <property name="fileName">resources/common.rptlibrary</property>
            <property name="namespace">common</property>
        </structure>
    </list-property>
    <parameters>
        <scalar-parameter name="dbname" id="1091">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">olc</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="login_id" id="930">
            <property name="valueType">static</property>
            <property name="dataType">integer</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">13</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="school_id" id="62">
            <text-property name="promptText">school_id</text-property>
            <property name="valueType">static</property>
            <property name="dataType">integer</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">261</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="room_id" id="343">
            <text-property name="promptText">room_id</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="teacher" id="344">
            <text-property name="promptText">teacher</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">all</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="lunch_session" id="345">
            <text-property name="promptText">lunch_session</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">all</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="grade" id="346">
            <text-property name="promptText">grade</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">all</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="vendor" id="347">
            <text-property name="promptText">vendor</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">all</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="menu_cycle" id="348">
            <text-property name="promptText">menu_cycle</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">all</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="start_date" id="349">
            <text-property name="promptText">start_date</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2015-01-26</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <property name="autoSuggestThreshold">1</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="end_date" id="350">
            <text-property name="promptText">end_date</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2015-01-29</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <property name="autoSuggestThreshold">1</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="grouping" id="2247">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">none</value>
            </simple-property-list>
            <list-property name="selectionList">
                <structure>
                    <property name="value">none</property>
                    <property name="label">None</property>
                </structure>
                <structure>
                    <property name="value">rtg</property>
                    <property name="label">Room/Teacher/Grade</property>
                </structure>
                <structure>
                    <property name="value">room</property>
                    <property name="label">Room</property>
                </structure>
                <structure>
                    <property name="value">teacher</property>
                    <property name="label">Teacher</property>
                </structure>
                <structure>
                    <property name="value">grade</property>
                    <property name="label">Grade</property>
                </structure>
                <structure>
                    <property name="value">ls</property>
                    <property name="label">Lunch Session</property>
                </structure>
            </list-property>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="debug" id="1772">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">boolean</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">False</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">check-box</property>
            <structure name="format"/>
        </scalar-parameter>
        <scalar-parameter name="use_item_name" id="2232">
            <property name="valueType">static</property>
            <property name="dataType">boolean</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">true</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">check-box</property>
            <structure name="format"/>
        </scalar-parameter>
        <scalar-parameter name="show_details" id="2244">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">boolean</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">true</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">check-box</property>
            <structure name="format"/>
        </scalar-parameter>
        <scalar-parameter name="dyn_columns" id="2246">
            <property name="hidden">true</property>
            <property name="valueType">dynamic</property>
            <property name="isRequired">false</property>
            <property name="dataSetName">ReportColumns</property>
            <expression name="valueExpr" type="javascript">dataSetRow["menu_date"]</expression>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2012-11-01</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="dyn_item_rows" id="2341">
            <property name="hidden">true</property>
            <property name="valueType">dynamic</property>
            <property name="isRequired">false</property>
            <property name="dataSetName">ReportItemRows</property>
            <expression name="valueExpr" type="javascript">dataSetRow["item_count"]</expression>
            <property name="dataType">decimal</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="log_dir" id="2342">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="orderlunches" id="351">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.mysql.jdbc.Driver</property>
            <property name="odaURL">jdbc:mysql://awsdb.orderlunches.com:3306/innovent?noDatetimeStringSync=true</property>
            <property name="odaUser">innovent</property>
            <encrypted-property name="odaPassword" encryptionID="base64">YmlydDIwMTI=</encrypted-property>
            <property name="odaJndiName">java:comp/env/jdbc/orderlunches</property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportDetail" id="931">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_name</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">"Main Campus"</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">13</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">14</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">SchoolName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">group_key</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">student_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">student_last</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">student_first</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">student_name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">item_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">item_code</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">markdown_names</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">quantities</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">12</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">SchoolName</property>
                    <property name="nativeName">SchoolName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">group_key</property>
                    <property name="nativeName">group_key</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">student_id</property>
                    <property name="nativeName">student_id</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">student_last</property>
                    <property name="nativeName">student_last</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">student_first</property>
                    <property name="nativeName">student_first</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">student_name</property>
                    <property name="nativeName">student_name</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">item_count</property>
                    <property name="nativeName">item_count</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">item_code</property>
                    <property name="nativeName">item_code</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">10</property>
                    <property name="name">markdown_names</property>
                    <property name="nativeName">markdown_names</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">11</property>
                    <property name="name">quantities</property>
                    <property name="nativeName">quantities</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_detail_v7(?,?,?,?,?,?,?,?,?,?,?,?,?,?) ]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportCompactSummary" id="2320">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_name</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">" Kindergarden - Mini Gym"</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">13</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">14</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">SchoolName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">group_key</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">item_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">item_code</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">markdown_names</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">quantities</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">SchoolName</property>
                    <property name="nativeName">SchoolName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">group_key</property>
                    <property name="nativeName">group_key</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">item_count</property>
                    <property name="nativeName">item_count</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">item_code</property>
                    <property name="nativeName">item_code</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">markdown_names</property>
                    <property name="nativeName">markdown_names</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">quantities</property>
                    <property name="nativeName">quantities</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_compact_summary_v1(?,?,?,?,?,?,?,?,?,?,?,?,?,?) ]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportCompactSummaryInner" id="2355">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_name</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">" Kindergarden - Mini Gym"</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">13</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">14</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">SchoolName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">group_key</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">item_code</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">markdown_name</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">quantity</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">SchoolName</property>
                    <property name="nativeName">SchoolName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">group_key</property>
                    <property name="nativeName">group_key</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">item_code</property>
                    <property name="nativeName">item_code</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">markdown_name</property>
                    <property name="nativeName">markdown_name</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">quantity</property>
                    <property name="nativeName">quantity</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_compact_summary_inner_v2(?,?,?,?,?,?,?,?,?,?,?,?,?,?) ]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportSummary" id="2129">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_name</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">"all"</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">13</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">14</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">SchoolName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">group_key</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">item_code</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">markdown_name</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">quantity</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">SchoolName</property>
                    <property name="nativeName">SchoolName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">group_key</property>
                    <property name="nativeName">group_key</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">item_code</property>
                    <property name="nativeName">item_code</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">markdown_name</property>
                    <property name="nativeName">markdown_name</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">quantity</property>
                    <property name="nativeName">quantity</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_summary_v5(?,?,?,?,?,?,?,?,?,?,?,?,?,?)]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportGrand" id="2231">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">item_code</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">markdown_name</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">quantity</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">item_code</property>
                    <property name="nativeName">item_code</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">markdown_name</property>
                    <property name="nativeName">markdown_name</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">quantity</property>
                    <property name="nativeName">quantity</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_grand_v3(?,?,?,?,?,?,?,?,?,?,?,?)]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportColumns" id="2245">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">menu_date_key</property>
                    <expression name="expression">Formatter.format(row["menu_date"], "yyyy-MM-dd")</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">menu_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">menu_date_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">menu_date</property>
                    <property name="nativeName">menu_date</property>
                    <property name="dataType">date-time</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_columns_v2(?,?,?,?,?,?,?,?,?,?,?)]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportOuter" id="2102">
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">school_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">SchoolName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">LunchSession</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">GradeName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">RoomName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">TeacherName</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">group_key</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">school_id</property>
                    <property name="nativeName">school_id</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">SchoolName</property>
                    <property name="nativeName">SchoolName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">LunchSession</property>
                    <property name="nativeName">LunchSession</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">GradeName</property>
                    <property name="nativeName">GradeName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">RoomName</property>
                    <property name="nativeName">RoomName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">TeacherName</property>
                    <property name="nativeName">TeacherName</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">group_key</property>
                    <property name="nativeName">group_key</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_outer_v4(?,?,?,?,?,?,?,?,?,?,?,?)]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Cycle" id="914">
            <list-property name="parameters">
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">name</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var queryText = this.queryText;
this.queryText = queryText.replace("orderlunches", params["dbname"].value);]]></method>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">name</property>
                    <property name="nativeName">name</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select 
	 name
from orderlunches.menu_cycle
where id = ?

group by name]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ReportItemRows" id="2340">
            <list-property name="parameters">
                <structure>
                    <property name="name">dbname</property>
                    <property name="paramName">dbname</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">login_id</property>
                    <property name="paramName">login_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <property name="paramName">school_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_id</property>
                    <property name="paramName">room_id</property>
                    <property name="dataType">integer</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">room_name</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">"all"</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">teacher</property>
                    <property name="paramName">teacher</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">lunch_session</property>
                    <property name="paramName">lunch_session</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grade</property>
                    <property name="paramName">grade</property>
                    <property name="dataType">string</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">vendor</property>
                    <property name="paramName">vendor</property>
                    <property name="dataType">string</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">menu_cycle</property>
                    <property name="paramName">menu_cycle</property>
                    <property name="dataType">string</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">start_date</property>
                    <property name="paramName">start_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">11</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">end_date</property>
                    <property name="paramName">end_date</property>
                    <property name="dataType">dateTime</property>
                    <property name="position">12</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">grouping</property>
                    <property name="paramName">grouping</property>
                    <property name="dataType">string</property>
                    <property name="position">13</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">use_item_name</property>
                    <property name="paramName">use_item_name</property>
                    <property name="dataType">boolean</property>
                    <property name="position">14</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">item_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">orderlunches</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">item_count</property>
                    <property name="nativeName">item_count</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[call innovent.dist_item_code_item_rows_v1(?,?,?,?,?,?,?,?,?,?,?,?,?,?) ]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab-cell" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="LandscapeMasterPage" id="1386" extends="common.PortraitMasterPage">
            <property name="type">custom</property>
            <property name="height">8.5in</property>
            <property name="width">11in</property>
            <property name="orientation">landscape</property>
            <property name="rightMargin">0.25in</property>
            <overridden-values>
                <ref-entry baseId="473" name="HeaderGrid" id="473"/>
                <ref-entry baseId="474" id="474"/>
                <ref-entry baseId="475" id="475"/>
                <ref-entry baseId="476" id="476"/>
                <ref-entry baseId="468" name="ReportTitle" id="468"/>
                <ref-entry baseId="477" id="477"/>
                <ref-entry baseId="478" id="478"/>
                <ref-entry baseId="481" name="ReportSubtitle" id="481"/>
                <ref-entry baseId="5" name="FooterGrid" id="1434"/>
                <ref-entry baseId="6" id="1435"/>
                <ref-entry baseId="7" id="7"/>
                <ref-entry baseId="8" id="8"/>
                <ref-entry baseId="482" id="482"/>
                <ref-entry baseId="483" id="483"/>
                <ref-entry baseId="486" name="NewTextData" id="486"/>
                <ref-entry baseId="9" id="9"/>
                <ref-entry baseId="10" id="10"/>
                <ref-entry baseId="13" name="NewText" id="13"/>
                <ref-entry baseId="11" id="11"/>
                <ref-entry baseId="12" id="12"/>
                <ref-entry baseId="469" name="NewLabel1" id="469"/>
                <ref-entry baseId="470" name="NewAutoText2" id="470"/>
                <ref-entry baseId="471" name="NewText11" id="471"/>
                <ref-entry baseId="472" name="NewAutoText11" id="472"/>
            </overridden-values>
        </simple-master-page>
    </page-setup>
    <body>
        <table id="2103">
            <property name="color">#514842</property>
            <property name="dataSet">ReportOuter</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">SchoolName</property>
                    <text-property name="displayName">SchoolName</text-property>
                    <expression name="expression" type="javascript">dataSetRow["SchoolName"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">group_key</property>
                    <text-property name="displayName">group_key</text-property>
                    <expression name="expression" type="javascript">dataSetRow["group_key"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">school_id</property>
                    <text-property name="displayName">school_id</text-property>
                    <expression name="expression" type="javascript">dataSetRow["school_id"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">LunchSession</property>
                    <text-property name="displayName">LunchSession</text-property>
                    <expression name="expression" type="javascript">dataSetRow["LunchSession"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">GradeName</property>
                    <text-property name="displayName">GradeName</text-property>
                    <expression name="expression" type="javascript">dataSetRow["GradeName"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">TeacherName</property>
                    <text-property name="displayName">TeacherName</text-property>
                    <expression name="expression" type="javascript">dataSetRow["TeacherName"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">RoomName</property>
                    <text-property name="displayName">RoomName</text-property>
                    <expression name="expression" type="javascript">dataSetRow["RoomName"]</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">0</property>
            <column id="2117"/>
            <header>
                <row id="2207">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">row.__rownum>=0</expression>
                        </structure>
                    </list-property>
                    <cell id="2208">
                        <label id="1088">
                            <property name="fontSize">12pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">No Results Found for Selected Criteria.</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <group id="2119">
                <property name="groupName">SchoolGroup</property>
                <expression name="keyExpr" type="javascript">row["SchoolName"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["SchoolName"]</expression>
                </structure>
                <property name="hideDetail">false</property>
                <property name="pageBreakBefore">always-excluding-first</property>
                <header>
                    <row id="2120">
                        <cell id="2121">
                            <text id="1498">
                                <property name="fontSize">12pt</property>
                                <property name="contentType">html</property>
                                <text-property name="content"><![CDATA[<b><VALUE-OF>row["SchoolName"]</VALUE-OF></b>
/
<VALUE-OF>var value = params["menu_cycle"].value;
value != null &amp;&amp; value != "" &amp;&amp; value != "all" ? value : "All Menu Cycles"</VALUE-OF>
/
Date Range: <VALUE-OF format="MM/dd">params["start_date"].value</VALUE-OF> - <VALUE-OF format="MM/dd/yyyy">params["end_date"].value</VALUE-OF> ]]></text-property>
                            </text>
                        </cell>
                    </row>
                </header>
            </group>
            <group id="2234">
                <property name="groupName">DynamicGroup</property>
                <expression name="keyExpr" type="javascript">row["group_key"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["group_key"]</expression>
                </structure>
                <property name="hideDetail">false</property>
                <property name="pageBreakBefore">always-excluding-first</property>
                <header>
                    <row id="2235">
                        <cell id="2236">
                            <data id="2128">
                                <property name="fontSize">12pt</property>
                                <property name="resultSetColumn">group_key</property>
                            </data>
                        </cell>
                    </row>
                    <row id="2240">
                        <cell id="2241"/>
                    </row>
                    <row id="2242">
                        <cell id="2243"/>
                    </row>
                </header>
                <footer>
                    <row id="2237">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr" type="javascript">true</expression>
                            </structure>
                        </list-property>
                        <cell id="2238"/>
                    </row>
                </footer>
            </group>
            <detail>
                <row id="2254">
                    <property name="pageBreakInside">auto</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                        </structure>
                    </list-property>
                    <cell id="2255">
                        <grid id="2256">
                            <column id="2257"/>
                            <column id="2258"/>
                            <column id="2259"/>
                            <column id="2273"/>
                            <row id="2267">
                                <cell id="2268">
                                    <label id="2274">
                                        <text-property name="text">RoomName</text-property>
                                    </label>
                                </cell>
                                <cell id="2269">
                                    <label id="2275">
                                        <text-property name="text">TeacherName</text-property>
                                    </label>
                                </cell>
                                <cell id="2270">
                                    <label id="2276">
                                        <text-property name="text">LunchSession</text-property>
                                    </label>
                                </cell>
                                <cell id="2271">
                                    <label id="2278">
                                        <text-property name="text">GradeName</text-property>
                                    </label>
                                </cell>
                            </row>
                            <row id="2260">
                                <cell id="2261">
                                    <data id="2264">
                                        <property name="resultSetColumn">RoomName</property>
                                    </data>
                                </cell>
                                <cell id="2262">
                                    <data id="2265">
                                        <property name="resultSetColumn">TeacherName</property>
                                    </data>
                                </cell>
                                <cell id="2263">
                                    <data id="2266">
                                        <property name="resultSetColumn">LunchSession</property>
                                    </data>
                                </cell>
                                <cell id="2272">
                                    <data id="2277">
                                        <property name="resultSetColumn">GradeName</property>
                                    </data>
                                </cell>
                            </row>
                        </grid>
                    </cell>
                </row>
                <row id="2109">
                    <property name="pageBreakInside">auto</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">!params["show_details"].value</expression>
                        </structure>
                    </list-property>
                    <cell id="2110">
                        <table name="detail" id="1931">
                            <property name="dataSet">ReportDetail</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">dbname</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["dbname"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">login_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["login_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var roomName = row["RoomName"]; roomName == null ? "all" : roomName</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">teacher</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["TeacherName"] == null ? params["teacher"].value : row["TeacherName"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">vendor</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["vendor"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">menu_cycle</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["menu_cycle"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">start_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["start_date"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">end_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["end_date"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">school_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["school_id"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">lunch_session</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["LunchSession"] == null ? params["lunch_session"].value : row["LunchSession"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grade</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["GradeName"] == null ? params["grade"].value : row["GradeName"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grouping</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["grouping"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["room_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">use_item_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["use_item_name"].value</value>
                                    </simple-property-list>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">SchoolName</property>
                                    <text-property name="displayName">SchoolName</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["SchoolName"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">group_key</property>
                                    <text-property name="displayName">group_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["group_key"].toLowerCase().replace(/\s+$/g,'')</expression>
                                    <property name="dataType">string</property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">student_id</property>
                                    <text-property name="displayName">student_id</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["student_id"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date</property>
                                    <text-property name="displayName">menu_date</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date"]</expression>
                                    <property name="dataType">date-time</property>
                                </structure>
                                <structure>
                                    <property name="name">student_last</property>
                                    <text-property name="displayName">student_last</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["student_last"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">student_first</property>
                                    <text-property name="displayName">student_first</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["student_first"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">student_name</property>
                                    <text-property name="displayName">student_name</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["student_name"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">item_count</property>
                                    <text-property name="displayName">item_count</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["item_count"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">item_code</property>
                                    <text-property name="displayName">item_code</text-property>
                                    <expression name="expression" type="javascript">var names = dataSetRow["item_code"].split("|olsep|");
var markdowns = dataSetRow["markdown_names"].split("|olsep|");
var output = [];
for(var i = 0; i &lt; names.length; i++) {
	var itemName = names[i] + "";
	var markdown = markdowns[i] * 1;
	if(params["use_item_name"].value) {
		itemName = applyMarkDown(itemName, markdown);
	}
	var sep;
	if(params["use_item_name"].value) {
		var borderStyle = "";
		if(i &lt; names.length - 1) {
			borderStyle = "border-bottom: 1px solid #ccc; ";
		}
		output.push("&lt;div style=\"" + borderStyle + "\">" + itemName + "&lt;/div>");
		sep = "";
	}
	else {
		output.push(itemName);
		sep = ", ";
	}
}
output.join(sep)</expression>
                                    <property name="dataType">string</property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date_key</property>
                                    <text-property name="displayName">menu_date_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date_key"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_item_code</property>
                                    <property name="dataType">string</property>
                                    <simple-property-list name="aggregateOn">
                                        <value>StudentGroup</value>
                                    </simple-property-list>
                                    <property name="aggregateFunction">FIRST</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["item_code"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">row["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">group3_key</property>
                                    <expression name="expression" type="javascript">dataSetRow["student_last"].toLowerCase() + "/" + dataSetRow["student_first"].toLowerCase() + "/" + dataSetRow["student_id"]</expression>
                                    <property name="dataType">string</property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">quantities</property>
                                    <expression name="expression" type="javascript">dataSetRow["quantities"]</expression>
                                    <property name="dataType">string</property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_quantities</property>
                                    <property name="dataType">string</property>
                                    <simple-property-list name="aggregateOn">
                                        <value>StudentGroup</value>
                                    </simple-property-list>
                                    <property name="aggregateFunction">FIRST</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["quantities"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">row["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                            </list-property>
                            <method name="onPrepare"><![CDATA[adjustTable(this.name, ["agg_item_code", "agg_quantities"]);
]]></method>
                            <property name="pageBreakInterval">0</property>
                            <list-property name="sort">
                                <structure>
                                    <expression name="key" type="javascript">row["group3_key"]</expression>
                                    <property name="direction">asc</property>
                                    <property name="strength">-1</property>
                                </structure>
                            </list-property>
                            <column id="2050">
                                <property name="width">2in</property>
                            </column>
                            <column id="2071">
                                <property name="width">1in</property>
                            </column>
                            <header>
                                <row id="2204">
                                    <method name="onRender"><![CDATA[if (reportContext.getOutputFormat().equalsIgnoreCase("PDF"))
{
	// this = IRowInstance
	this.getStyle().setBackgroundColor("#ffffff");
	this.getStyle().setColor("#514842");
}]]></method>
                                    <property name="backgroundColor">#769D64</property>
                                    <property name="fontSize">9pt</property>
                                    <property name="color">white</property>
                                    <cell id="2205">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <property name="textAlign">left</property>
                                        <label id="2127">
                                            <text-property name="text">Name</text-property>
                                        </label>
                                    </cell>
                                    <cell id="2206">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <label id="2073">
                                            <text-property name="text">menu_date</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </header>
                            <group id="1995">
                                <property name="groupName">SchoolGroup</property>
                                <expression name="keyExpr" type="javascript">row["SchoolName"]</expression>
                                <structure name="toc">
                                    <expression name="expressionValue" type="javascript">row["SchoolName"]</expression>
                                </structure>
                                <property name="hideDetail">false</property>
                            </group>
                            <group id="2019">
                                <property name="groupName">DynamicGroup</property>
                                <expression name="keyExpr" type="javascript">row["group_key"]</expression>
                                <structure name="toc">
                                    <expression name="expressionValue" type="javascript">row["group_key"]</expression>
                                </structure>
                                <property name="hideDetail">false</property>
                            </group>
                            <group id="2074">
                                <property name="groupName">StudentGroup</property>
                                <expression name="keyExpr" type="javascript">row["group3_key"]</expression>
                                <structure name="toc">
                                    <expression name="expressionValue" type="javascript">row["group3_key"]</expression>
                                </structure>
                                <property name="hideDetail">false</property>
                                <list-property name="sort">
                                    <structure>
                                        <expression name="key" type="javascript">row["group3_key"]</expression>
                                        <property name="direction">asc</property>
                                        <property name="strength">-1</property>
                                    </structure>
                                </list-property>
                                <header>
                                    <row id="2075">
                                        <cell id="2076">
                                            <property name="fontWeight">bold</property>
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <data id="2101">
                                                <property name="resultSetColumn">student_name</property>
                                            </data>
                                        </cell>
                                        <cell id="2077">
                                            <method name="onPrepare"><![CDATA[// this.getStyle().textAlign = params["use_item_name"].value ? "left" : "center";]]></method>
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <property name="paddingTop">0pt</property>
                                            <property name="paddingLeft">0pt</property>
                                            <property name="paddingBottom">0pt</property>
                                            <property name="paddingRight">0pt</property>
                                            <grid id="2359">
                                                <column id="2360"/>
                                                <column id="2361">
                                                    <property name="width">0.2in</property>
                                                </column>
                                                <row id="2362">
                                                    <cell id="2363">
                                                        <text id="2233">
                                                            <property name="contentType">html</property>
                                                            <text-property name="content"><![CDATA[<VALUE-OF format="HTML">row["agg_item_code"]</VALUE-OF><!-- | <VALUE-OF>row["agg_quantities"]</VALUE-OF> -->]]></text-property>
                                                        </text>
                                                    </cell>
                                                    <cell id="2364"/>
                                                </row>
                                            </grid>
                                        </cell>
                                    </row>
                                </header>
                            </group>
                            <detail>
                                <row id="2287">
                                    <list-property name="visibility">
                                        <structure>
                                            <property name="format">all</property>
                                            <expression name="valueExpr" type="javascript">true</expression>
                                        </structure>
                                    </list-property>
                                    <cell id="2288">
                                        <data id="2291">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <property name="resultSetColumn">menu_date</property>
                                        </data>
                                    </cell>
                                    <cell id="2289">
                                        <data id="2290">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <property name="resultSetColumn">quantities</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                        </table>
                    </cell>
                </row>
                <row id="2294">
                    <property name="pageBreakInside">avoid</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">!params["show_details"].value</expression>
                        </structure>
                    </list-property>
                    <cell id="2295">
                        <property name="paddingTop">20pt</property>
                        <label id="2334">
                            <property name="fontSize">12pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="marginBottom">3pt</property>
                            <property name="textAlign">center</property>
                            <text-property name="text">Summary Totals</text-property>
                        </label>
                        <table name="compact_summary" id="2296">
                            <property name="dataSet">ReportCompactSummary</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">dbname</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["dbname"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">login_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["login_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var roomName = row["RoomName"]; 
var result = roomName == null ? "all" : roomName;
out.println("compact summary room name = " + result);
result</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">teacher</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var result = row["TeacherName"];
result = result == null ? params["teacher"].value : result;
out.println("compact summary teacher name = " + result);
result</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">vendor</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["vendor"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">menu_cycle</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["menu_cycle"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">start_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["start_date"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">end_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["end_date"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">school_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["school_id"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">lunch_session</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var result = row["LunchSession"];
result = result == null ? params["lunch_session"].value : result;
out.println("compact summary lunch session = " + result);
result</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grade</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var result = row["GradeName"];
result = result == null ? params["grade"].value : result;
out.println("compact summary grade name = " + result);
result</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grouping</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["grouping"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["room_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">use_item_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["use_item_name"].value</value>
                                    </simple-property-list>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">SchoolName</property>
                                    <text-property name="displayName">SchoolName</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["SchoolName"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">group_key</property>
                                    <text-property name="displayName">group_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["group_key"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date</property>
                                    <text-property name="displayName">menu_date</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date"]</expression>
                                    <property name="dataType">date-time</property>
                                </structure>
                                <structure>
                                    <property name="name">item_count</property>
                                    <text-property name="displayName">item_count</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["item_count"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">item_code</property>
                                    <text-property name="displayName">item_code</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["item_code"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">markdown_names</property>
                                    <text-property name="displayName">markdown_names</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["markdown_names"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">quantities</property>
                                    <text-property name="displayName">quantities</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["quantities"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date_key</property>
                                    <text-property name="displayName">menu_date_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date_key"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_item_code</property>
                                    <property name="dataType">string</property>
                                    <property name="aggregateFunction">FIRST</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["item_code"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">row["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_markdown_names</property>
                                    <property name="dataType">string</property>
                                    <property name="aggregateFunction">FIRST</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["markdown_names"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">row["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_quantities</property>
                                    <property name="dataType">string</property>
                                    <property name="aggregateFunction">FIRST</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["quantities"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">row["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                            </list-property>
                            <method name="onPrepare"><![CDATA[adjustTable(this.name, ["agg_item_code", "agg_markdown_names", "agg_quantities"]);
]]></method>
                            <property name="pageBreakInterval">0</property>
                            <column id="2315">
                                <property name="width">2in</property>
                            </column>
                            <column id="2316">
                                <property name="width">1in</property>
                            </column>
                            <header>
                                <row id="2297">
                                    <method name="onRender"><![CDATA[if (reportContext.getOutputFormat().equalsIgnoreCase("PDF"))
{
	// this = IRowInstance
	this.getStyle().setBackgroundColor("#ffffff");
	this.getStyle().setColor("#514842");
}]]></method>
                                    <property name="backgroundColor">#769D64</property>
                                    <property name="fontSize">9pt</property>
                                    <property name="color">white</property>
                                    <cell id="2298">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <property name="textAlign">left</property>
                                        <label id="2326">
                                            <text-property name="text">Summary For</text-property>
                                        </label>
                                    </cell>
                                    <cell id="2300">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <label id="2301">
                                            <text-property name="text">menu_date</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </header>
                            <detail>
                                <row id="2321">
                                    <list-property name="visibility">
                                        <structure>
                                            <property name="format">all</property>
                                            <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                                        </structure>
                                    </list-property>
                                    <cell id="2322">
                                        <data id="2325">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <property name="resultSetColumn">menu_date_key</property>
                                        </data>
                                    </cell>
                                    <cell id="2323"/>
                                </row>
                            </detail>
                            <footer>
                                <row id="2317">
                                    <method name="onCreate"><![CDATA[colGridInfos = [];]]></method>
                                    <cell id="2318">
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <text id="2327">
                                            <property name="fontWeight">bold</property>
                                            <property name="contentType">html</property>
                                            <text-property name="content"><![CDATA[<VALUE-OF format="HTML">row._outer["group_key"]</VALUE-OF>]]></text-property>
                                        </text>
                                    </cell>
                                    <cell id="2319">
                                        <method name="onCreate"><![CDATA[var colIndex = parseInt("%COL%");
out.println("cell.onCreate colIndex = " + colIndex + " " + this.getClass().getName());
var parseAggValue = function(colName) {
	var value = row[colName];
	out.println(colName + " = " + value);
	return value == null ? [] : value.split("|olsep|");
}
var names = parseAggValue("agg_item_code");
var quantities = parseAggValue("agg_quantities");
var markdowns = parseAggValue("agg_markdown_names");
var gridInfo = [];
for(var i = 0; i < names.length; i++) {
	var name = names[i];
	var markdown = i < markdowns.length ? markdowns[i] * 1 != 0 : false;
	var quantity = i < quantities.length ? quantities[i] * 1 : 0;
	if(params["use_item_name"].value) {
		name = applyMarkDown(name, markdown);
	}
	gridInfo[i] = {
		name: name,
		markdown: markdown,
		quantity: quantity
	};
}
colGridInfos[colIndex] = gridInfo;
]]></method>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <property name="paddingTop">0pt</property>
                                        <property name="paddingLeft">0pt</property>
                                        <property name="paddingBottom">0pt</property>
                                        <property name="paddingRight">0pt</property>
                                        <data id="2336">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <list-property name="visibility">
                                                <structure>
                                                    <property name="format">all</property>
                                                    <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                                                </structure>
                                            </list-property>
                                            <property name="resultSetColumn">agg_item_code</property>
                                        </data>
                                        <data id="2337">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <list-property name="visibility">
                                                <structure>
                                                    <property name="format">all</property>
                                                    <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                                                </structure>
                                            </list-property>
                                            <property name="resultSetColumn">agg_markdown_names</property>
                                        </data>
                                        <data id="2338">
                                            <property name="borderBottomColor">#00FF00</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#00FF00</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#00FF00</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#00FF00</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <list-property name="visibility">
                                                <structure>
                                                    <property name="format">all</property>
                                                    <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                                                </structure>
                                            </list-property>
                                            <property name="resultSetColumn">agg_quantities</property>
                                        </data>
                                        <table name="compact_summary_inner" id="2343">
                                            <property name="dataSet">ReportCompactSummaryInner</property>
                                            <list-property name="paramBindings">
                                                <structure>
                                                    <property name="paramName">dbname</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["dbname"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">login_id</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["login_id"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">school_id</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">row._outer["school_id"]</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">room_id</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["room_id"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">room_name</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">var roomName = row._outer["RoomName"]; 
var result = roomName == null ? "all" : roomName;
out.println("compact summary inner room name = " + result);
result</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">teacher</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">var result = row._outer["TeacherName"];
result = result == null ? params["teacher"].value : result;
out.println("compact summary inner teacher name = " + result);
result</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">lunch_session</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">var result = row._outer["LunchSession"];
result = result == null ? params["lunch_session"].value : result;
out.println("compact summary inner lunch session = " + result);
result</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">grade</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">var result = row._outer["GradeName"];
result = result == null ? params["grade"].value : result;
out.println("compact summary inner grade name = " + result);
result</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">vendor</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["vendor"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">menu_cycle</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["menu_cycle"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">start_date</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["start_date"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">end_date</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["end_date"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">grouping</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["grouping"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                                <structure>
                                                    <property name="paramName">use_item_name</property>
                                                    <simple-property-list name="expression">
                                                        <value type="javascript">params["use_item_name"].value</value>
                                                    </simple-property-list>
                                                </structure>
                                            </list-property>
                                            <list-property name="boundDataColumns">
                                                <structure>
                                                    <property name="name">SchoolName</property>
                                                    <text-property name="displayName">SchoolName</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["SchoolName"]</expression>
                                                    <property name="dataType">string</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">group_key</property>
                                                    <text-property name="displayName">group_key</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["group_key"]</expression>
                                                    <property name="dataType">string</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">menu_date</property>
                                                    <text-property name="displayName">menu_date</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["menu_date"]</expression>
                                                    <property name="dataType">date-time</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">item_code</property>
                                                    <text-property name="displayName">item_code</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["item_code"]</expression>
                                                    <property name="dataType">string</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">markdown_name</property>
                                                    <text-property name="displayName">markdown_name</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["markdown_name"]</expression>
                                                    <property name="dataType">integer</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">quantity</property>
                                                    <text-property name="displayName">quantity</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["quantity"]</expression>
                                                    <property name="dataType">decimal</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">menu_date_key</property>
                                                    <text-property name="displayName">menu_date_key</text-property>
                                                    <expression name="expression" type="javascript">dataSetRow["menu_date_key"]</expression>
                                                    <property name="dataType">string</property>
                                                </structure>
                                                <structure>
                                                    <property name="name">formatted_item_code</property>
                                                    <expression name="expression" type="javascript">var markdown = dataSetRow["markdown_name"];
var itemName = dataSetRow["item_code"];
if(params["use_item_name"].value) {
	itemName = applyMarkDown(itemName, markdown);
}
itemName</expression>
                                                    <property name="dataType">string</property>
                                                    <property name="allowExport">true</property>
                                                </structure>
                                            </list-property>
                                            <method name="onPrepare"><![CDATA[// adjustTable(this.getName(), []);]]></method>
                                            <list-property name="filter">
                                                <structure>
                                                    <property name="operator">eq</property>
                                                    <expression name="expr" type="javascript">row["menu_date_key"]</expression>
                                                    <simple-property-list name="value1">
                                                        <value>"%MENU_DATE%"</value>
                                                    </simple-property-list>
                                                </structure>
                                            </list-property>
                                            <column id="2353"/>
                                            <column id="2354">
                                                <property name="width">0.28in</property>
                                                <property name="fontWeight">bold</property>
                                                <property name="textAlign">right</property>
                                            </column>
                                            <detail>
                                                <row id="2347">
                                                    <cell id="2348">
                                                        <text id="2358">
                                                            <property name="contentType">html</property>
                                                            <text-property name="content"><![CDATA[<VALUE-OF format="HTML">row["formatted_item_code"]</VALUE-OF>]]></text-property>
                                                        </text>
                                                    </cell>
                                                    <cell id="2349">
                                                        <data id="2357">
                                                            <property name="resultSetColumn">quantity</property>
                                                        </data>
                                                    </cell>
                                                </row>
                                            </detail>
                                        </table>
                                    </cell>
                                </row>
                            </footer>
                        </table>
                    </cell>
                </row>
                <row id="2130">
                    <property name="pageBreakInside">auto</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">params["show_details"].value</expression>
                        </structure>
                    </list-property>
                    <cell id="2131">
                        <table name="summary" id="2134">
                            <property name="dataSet">ReportSummary</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">dbname</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["dbname"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">login_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["login_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">school_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">row["school_id"]</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_id</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">params["room_id"].value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">teacher</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["teacher"].value;
out.println("TeacherName = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">lunch_session</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["lunch_session"].value;
out.println("LunchSession = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grade</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["grade"].value;
out.println("GradeName = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">vendor</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["vendor"].value;
out.println("vendor = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">menu_cycle</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["menu_cycle"].value;
out.println("menu_cycle = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">start_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["start_date"].value;
out.println("start_date = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">end_date</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["end_date"].value;
out.println("end_date = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">grouping</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["grouping"].value;
out.println("grouping = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">use_item_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = params["use_item_name"].value;
out.println("use_item_name = " + value);
value</value>
                                    </simple-property-list>
                                </structure>
                                <structure>
                                    <property name="paramName">room_name</property>
                                    <simple-property-list name="expression">
                                        <value type="javascript">var value = row["RoomName"];
value == null ? "all" : value</value>
                                    </simple-property-list>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">SchoolName</property>
                                    <text-property name="displayName">SchoolName</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["SchoolName"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">group_key</property>
                                    <text-property name="displayName">group_key</text-property>
                                    <expression name="expression" type="javascript">var value = dataSetRow["group_key"];
// out.println(typeof value);
value</expression>
                                    <property name="dataType">string</property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">item_code</property>
                                    <text-property name="displayName">item_code</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["item_code"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date</property>
                                    <text-property name="displayName">menu_date</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date"]</expression>
                                    <property name="dataType">date-time</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date_key</property>
                                    <text-property name="displayName">menu_date_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date_key"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">quantity</property>
                                    <text-property name="displayName">quantity</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["quantity"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_quantity</property>
                                    <property name="dataType">float</property>
                                    <simple-property-list name="aggregateOn">
                                        <value>ItemGroup</value>
                                    </simple-property-list>
                                    <property name="aggregateFunction">SUM</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["quantity"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">dataSetRow["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">markdown_name</property>
                                    <expression name="expression" type="javascript">dataSetRow["markdown_name"]</expression>
                                    <property name="dataType">boolean</property>
                                    <property name="allowExport">true</property>
                                </structure>
                            </list-property>
                            <method name="onPrepare"><![CDATA[adjustTable(this.name, ["agg_quantity"]);]]></method>
                            <property name="pageBreakInterval">0</property>
                            <list-property name="filter">
                                <structure>
                                    <property name="operator">eq</property>
                                    <expression name="expr" type="javascript">var value = row["group_key"] + "";
value = value.replace(/[ ]+$/, "").toLowerCase();
value</expression>
                                    <simple-property-list name="value1">
                                        <value>var value = row._outer["group_key"] + "";
value = value.replace(/[ ]+$/, "").toLowerCase();
value</value>
                                    </simple-property-list>
                                </structure>
                            </list-property>
                            <column id="2175">
                                <property name="width">2in</property>
                            </column>
                            <column id="2176">
                                <property name="width">1in</property>
                            </column>
                            <header>
                                <row id="2135">
                                    <method name="onRender"><![CDATA[if (reportContext.getOutputFormat().equalsIgnoreCase("PDF"))
{
	// this = IRowInstance
	this.getStyle().setBackgroundColor("#ffffff");
	this.getStyle().setColor("#514842");
}]]></method>
                                    <property name="backgroundColor">#769D64</property>
                                    <property name="fontSize">9pt</property>
                                    <property name="color">white</property>
                                    <cell id="2140">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <text id="2248">
                                            <property name="contentType">html</property>
                                            <text-property name="content"><![CDATA[<VALUE-OF>params["show_details"].value 
  ? "Summary Totals"
  : ("Item " + (params["use_item_name"].value ? "Name" : "Code"))</VALUE-OF>]]></text-property>
                                        </text>
                                    </cell>
                                    <cell id="2142">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <label id="2143">
                                            <text-property name="text">menu_date</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </header>
                            <group id="2180">
                                <property name="groupName">SchoolGroup</property>
                                <expression name="keyExpr" type="javascript">row["SchoolName"]</expression>
                                <structure name="toc">
                                    <expression name="expressionValue" type="javascript">row["SchoolName"]</expression>
                                </structure>
                                <property name="hideDetail">false</property>
                            </group>
                            <group id="2188">
                                <property name="groupName">DynGroup</property>
                                <expression name="keyExpr" type="javascript">row["group_key"]</expression>
                                <structure name="toc">
                                    <expression name="expressionValue" type="javascript">row["group_key"]</expression>
                                </structure>
                                <property name="hideDetail">false</property>
                            </group>
                            <group id="2196">
                                <property name="groupName">ItemGroup</property>
                                <expression name="keyExpr" type="javascript">row["item_code"]</expression>
                                <property name="hideDetail">false</property>
                                <header>
                                    <row id="2197">
                                        <cell id="2198">
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <text id="2229">
                                                <property name="fontWeight">normal</property>
                                                <property name="contentType">html</property>
                                                <text-property name="content"><![CDATA[<VALUE-OF format="HTML">
var result = row["item_code"];
if(params["use_item_name"].value) {
	result = applyMarkDown(result, row["markdown_name"]);
}
result
</VALUE-OF>]]></text-property>
                                            </text>
                                        </cell>
                                        <cell id="2199">
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <data id="2158">
                                                <property name="textAlign">center</property>
                                                <property name="resultSetColumn">agg_quantity</property>
                                            </data>
                                        </cell>
                                    </row>
                                </header>
                            </group>
                            <detail>
                                <row id="2249">
                                    <list-property name="visibility">
                                        <structure>
                                            <property name="format">all</property>
                                            <expression name="valueExpr" type="javascript">!params["debug"].value</expression>
                                        </structure>
                                    </list-property>
                                    <cell id="2250"/>
                                    <cell id="2251">
                                        <data id="2253">
                                            <property name="resultSetColumn">item_code</property>
                                        </data>
                                        <data id="2252">
                                            <property name="resultSetColumn">group_key</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                        </table>
                    </cell>
                </row>
                <row id="2132">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">true</expression>
                        </structure>
                    </list-property>
                    <cell id="2133"/>
                </row>
            </detail>
            <footer>
                <row id="2227">
                    <property name="pageBreakBefore">always</property>
                    <property name="pageBreakInside">auto</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">params["grouping"].value == "none" &amp;&amp; params["school_id"].value != "0"</expression>
                        </structure>
                    </list-property>
                    <cell id="2228">
                        <table name="grand" id="2211">
                            <property name="dataSet">ReportGrand</property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">item_code</property>
                                    <text-property name="displayName">item_code</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["item_code"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date</property>
                                    <text-property name="displayName">menu_date</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date"]</expression>
                                    <property name="dataType">date-time</property>
                                </structure>
                                <structure>
                                    <property name="name">menu_date_key</property>
                                    <text-property name="displayName">menu_date_key</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["menu_date_key"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">quantity</property>
                                    <text-property name="displayName">quantity</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["quantity"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">agg_quantity</property>
                                    <property name="dataType">integer</property>
                                    <simple-property-list name="aggregateOn">
                                        <value>ItemGroup</value>
                                    </simple-property-list>
                                    <property name="aggregateFunction">SUM</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["quantity"]</expression>
                                        </structure>
                                    </list-property>
                                    <expression name="filterExpr" type="javascript">dataSetRow["menu_date_key"] == "%MENU_DATE%"</expression>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">markdown_name</property>
                                    <expression name="expression" type="javascript">dataSetRow["markdown_name"]</expression>
                                    <property name="dataType">boolean</property>
                                    <property name="allowExport">true</property>
                                </structure>
                            </list-property>
                            <method name="onPrepare"><![CDATA[adjustTable(this.name, ["agg_quantity"]);]]></method>
                            <property name="pageBreakInterval">0</property>
                            <column id="2225">
                                <property name="width">2in</property>
                            </column>
                            <column id="2226">
                                <property name="width">1in</property>
                            </column>
                            <header>
                                <row id="2212">
                                    <method name="onRender"><![CDATA[if (reportContext.getOutputFormat().equalsIgnoreCase("PDF"))
{
	// this = IRowInstance
	this.getStyle().setBackgroundColor("#ffffff");
	this.getStyle().setColor("#514842");
}]]></method>
                                    <property name="backgroundColor">#769D64</property>
                                    <property name="fontSize">9pt</property>
                                    <property name="color">white</property>
                                    <cell id="2213">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <label id="2214">
                                            <property name="textAlign">left</property>
                                            <text-property name="text">Grand Totals</text-property>
                                        </label>
                                    </cell>
                                    <cell id="2215">
                                        <property name="fontWeight">bold</property>
                                        <property name="borderBottomColor">#666666</property>
                                        <property name="borderBottomStyle">solid</property>
                                        <property name="borderBottomWidth">1px</property>
                                        <property name="borderLeftColor">#666666</property>
                                        <property name="borderLeftStyle">solid</property>
                                        <property name="borderLeftWidth">1px</property>
                                        <property name="borderRightColor">#666666</property>
                                        <property name="borderRightStyle">solid</property>
                                        <property name="borderRightWidth">1px</property>
                                        <property name="borderTopColor">#666666</property>
                                        <property name="borderTopStyle">solid</property>
                                        <property name="borderTopWidth">1px</property>
                                        <label id="2216">
                                            <text-property name="text">menu_date</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </header>
                            <group id="2219">
                                <property name="groupName">ItemGroup</property>
                                <expression name="keyExpr" type="javascript">row["item_code"]</expression>
                                <property name="hideDetail">false</property>
                                <header>
                                    <row id="2220">
                                        <cell id="2221">
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <text id="2230">
                                                <property name="fontWeight">normal</property>
                                                <property name="contentType">html</property>
                                                <text-property name="content"><![CDATA[<VALUE-OF format="HTML">
var result = row["item_code"];
if(params["use_item_name"].value) {
	result = applyMarkDown(result, row["markdown_name"]);
}
result
</VALUE-OF>]]></text-property>
                                            </text>
                                        </cell>
                                        <cell id="2223">
                                            <property name="borderBottomColor">#666666</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">1px</property>
                                            <property name="borderLeftColor">#666666</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">1px</property>
                                            <property name="borderRightColor">#666666</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">1px</property>
                                            <property name="borderTopColor">#666666</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">1px</property>
                                            <data id="2224">
                                                <property name="textAlign">center</property>
                                                <property name="resultSetColumn">agg_quantity</property>
                                            </data>
                                        </cell>
                                    </row>
                                </header>
                            </group>
                        </table>
                    </cell>
                </row>
            </footer>
        </table>
    </body>
</report>
